# 描述
##	Rpc分布式集群服务器框架


模仿dubbo+zookeeper

### 第一部分	是rpc通信框架的实现方式：

1. java的话就是rmi远程方法调用。 
2. rmi是自己写的一个框架用在了这个项目里。用的话就是需要提供一个ip+port然后还有一个需要rmi调用的接口的class对象。
3. 主要就是用到了代理模式和网络编程， 根据这个传入的参数，代理生成一个类，类方法中把方法和参数封装成类然后发送一个gson字符串。服务器端根据这个解析调用返回值。因为是框架吗，所以这个是默认的传输实现，后期可以通过set进去一个接口实现类来实现不同的传输方案。这个我觉得是比较好的点。
4. 当然服务器端是要不断侦听的，对于每个链接用开辟一个线程，并且让线程池执行。



### 第二部分	是注册中心的实现：

1.	提供注册注销服务，还有请求服务功能。
2.	框架的使用就是需要配置异常掉线和处理对端消息的处理，都是通过接口set进去，还有ip和port等
3.	把注册的服务封装一下，保存成俩个map，一个用来给请求者获取。还有一个保存各个服务器提供的服务列表，用来处理异常掉线情况。
4.	注册注销和请求这三个都是rpc通信是比较好实现的，注册中心也比较好维护，但是服务器异常掉线这个情况比较难搞，因为是短连接的形式，不能实时侦听。
5.	所以我就把这个部分抽出来了，主要实现的思想有俩个，一个是发送心跳检测一个是socket轮询池。
6.	就是注册中心通过rpc反向去检测服务器，如果出现异常了，在异常里面处理这个异常掉线。